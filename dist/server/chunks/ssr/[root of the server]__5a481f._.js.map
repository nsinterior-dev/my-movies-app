{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 65, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 73, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 79, "column": 0}, "map": {"version":3,"sources":["file:///Users/coeli/Personal/Projects/my-movies-app/src/server/apiRequest.ts"],"sourcesContent":["export async function apiRequest<TRequest, TResponse>(\n  url: string,\n  method: 'get' | 'post' | 'put' | 'delete',\n  body?: TRequest,\n): Promise<TResponse> {\n  console.log(`Making ${method.toUpperCase()} request to: ${url}`);\n  const response = await fetch(url, {\n    method: method.toUpperCase(),\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: body ? JSON.stringify(body) : undefined,\n  });\n\n  if (!response.ok) {\n    throw new Error(`Failed to ${method} data from ${url}`);\n  }\n\n  return response.json();\n}\n"],"names":[],"mappings":";;;AAAO,eAAe,WACpB,GAAW,EACX,MAAyC,EACzC,IAAe;IAEf,QAAQ,GAAG,CAAC,CAAC,OAAO,EAAE,OAAO,WAAW,GAAG,aAAa,EAAE,KAAK;IAC/D,MAAM,WAAW,MAAM,MAAM,KAAK;QAChC,QAAQ,OAAO,WAAW;QAC1B,SAAS;YACP,gBAAgB;QAClB;QACA,MAAM,OAAO,KAAK,SAAS,CAAC,QAAQ;IACtC;IAEA,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,IAAI,MAAM,CAAC,UAAU,EAAE,OAAO,WAAW,EAAE,KAAK;IACxD;IAEA,OAAO,SAAS,IAAI;AACtB"}},
    {"offset": {"line": 96, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 102, "column": 0}, "map": {"version":3,"sources":["file:///Users/coeli/Personal/Projects/my-movies-app/src/server/todos/service.ts"],"sourcesContent":["import { apiRequest } from '../apiRequest';\nimport { Todo } from './types/model';\nimport {\n  AddTodoRequest,\n  GetTodoRequest,\n  UpdateTodoRequest,\n} from './types/request';\nconst ENDPOINT = '/api/todos';\n\nexport function createTodo(payload: AddTodoRequest) {\n  return apiRequest<AddTodoRequest, void>(ENDPOINT, 'post', payload);\n}\n\nexport function listTodos() {\n  return apiRequest<void, Todo[]>(ENDPOINT, 'get');\n}\n\nexport function getTodo(payload: GetTodoRequest) {\n  return apiRequest<GetTodoRequest, Todo>(`${ENDPOINT}/${payload._id}`, 'get');\n}\n\nexport function updateTodo(payload: UpdateTodoRequest) {\n  return apiRequest<UpdateTodoRequest, void>(\n    `${ENDPOINT}/${payload._id}`,\n    'put',\n    payload\n  );\n}\n\nexport function deleteTodo(payload: GetTodoRequest) {\n  return apiRequest<GetTodoRequest, void>(\n    `${ENDPOINT}/${payload._id}`,\n    'delete'\n  );\n}\n"],"names":[],"mappings":";;;;;;;AAAA;;AAOA,MAAM,WAAW;AAEV,SAAS,WAAW,OAAuB;IAChD,OAAO,CAAA,GAAA,oHAAA,CAAA,aAAU,AAAD,EAAwB,UAAU,QAAQ;AAC5D;AAEO,SAAS;IACd,OAAO,CAAA,GAAA,oHAAA,CAAA,aAAU,AAAD,EAAgB,UAAU;AAC5C;AAEO,SAAS,QAAQ,OAAuB;IAC7C,OAAO,CAAA,GAAA,oHAAA,CAAA,aAAU,AAAD,EAAwB,GAAG,SAAS,CAAC,EAAE,QAAQ,GAAG,EAAE,EAAE;AACxE;AAEO,SAAS,WAAW,OAA0B;IACnD,OAAO,CAAA,GAAA,oHAAA,CAAA,aAAU,AAAD,EACd,GAAG,SAAS,CAAC,EAAE,QAAQ,GAAG,EAAE,EAC5B,OACA;AAEJ;AAEO,SAAS,WAAW,OAAuB;IAChD,OAAO,CAAA,GAAA,oHAAA,CAAA,aAAU,AAAD,EACd,GAAG,SAAS,CAAC,EAAE,QAAQ,GAAG,EAAE,EAC5B;AAEJ"}},
    {"offset": {"line": 127, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 133, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 138, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 156, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 158, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 173, "column": 0}, "map": {"version":3,"sources":["file:///Users/coeli/Personal/Projects/my-movies-app/src/features/todos/presentation/list.tsx"],"sourcesContent":["import React from 'react'\n\nexport const TodoList = () => {\n  return (\n    <div>list</div>\n  )\n}"],"names":[],"mappings":";;;;;AAEO,MAAM,WAAW;IACtB,qBACE,qKAAC;kBAAI;;;;;;AAET"}},
    {"offset": {"line": 187, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 193, "column": 0}, "map": {"version":3,"sources":["file:///Users/coeli/Personal/Projects/my-movies-app/src/features/todos/presentation/form.tsx"],"sourcesContent":["import React from 'react'\n\nexport const TodoForm = () => {\n  return (\n    <div>form</div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEO,MAAM,WAAW;IACtB,qBACE,qKAAC;kBAAI;;;;;;AAET"}},
    {"offset": {"line": 207, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 213, "column": 0}, "map": {"version":3,"sources":["file:///Users/coeli/Personal/Projects/my-movies-app/src/features/todos/presentation/index.tsx"],"sourcesContent":["import React from 'react';\nimport { TodoList } from './list';\nimport { TodoForm } from './form';\n\nexport const Todos = () => {\n  return [<TodoForm key='todo-form' />, <TodoList key='todo-list' />];\n};\n"],"names":[],"mappings":";;;;AACA;AACA;;;;AAEO,MAAM,QAAQ;IACnB,OAAO;sBAAC,qKAAC,0IAAA,CAAA,WAAQ,MAAK;;;;;sBAAgB,qKAAC,0IAAA,CAAA,WAAQ,MAAK;;;;;KAAe;AACrE"}},
    {"offset": {"line": 236, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 242, "column": 0}, "map": {"version":3,"sources":["file:///Users/coeli/Personal/Projects/my-movies-app/src/pages/todos/index.tsx"],"sourcesContent":["import React, { useEffect, useReducer, useState } from 'react';\nimport { listTodos, createTodo, deleteTodo, Todo } from '@/server'; // Import your service functions\n\nimport { Todos as TodoComp } from '@/features/todos/presentation';\n\ntype Action =\n  | { type: 'SET_TODOS'; payload: Todo[] }\n  | { type: 'ADD_TODO'; payload: Todo }\n  | { type: 'REMOVE_TODO'; payload: string };\n\nfunction reducer(state: Todo[], action: Action): Todo[] {\n  switch (action.type) {\n    case 'SET_TODOS':\n      return action.payload;\n    case 'ADD_TODO':\n      return [...state, action.payload];\n    case 'REMOVE_TODO':\n      return state.filter((todo) => todo._id !== action.payload);\n    default:\n      return state;\n  }\n}\n\nconst Todos = () => {\n  const [todos, dispatch] = useReducer(reducer, []);\n  const [input, setInput] = useState('');\n\n  // Fetch todos on component mount\n  useEffect(() => {\n    const fetchTodos = async () => {\n      try {\n        const fetchedTodos = await listTodos();\n        dispatch({ type: 'SET_TODOS', payload: fetchedTodos });\n      } catch (error) {\n        console.error('Failed to fetch todos:', error);\n      }\n    };\n\n    fetchTodos();\n  }, []);\n\n  // Handle adding a new todo\n  const handleAdd = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (!input.trim()) return;\n\n    try {\n      const newTodo = { _id: crypto.randomUUID(), title: input };\n      await createTodo({ title: input });\n      dispatch({ type: 'ADD_TODO', payload: newTodo }); // Optimistic update\n      setInput('');\n    } catch (error) {\n      console.error('Failed to add todo:', error);\n    }\n  };\n\n  // Handle removing a todo\n  const handleRemove = async (_id: string) => {\n    try {\n      await deleteTodo({ _id });\n      dispatch({ type: 'REMOVE_TODO', payload: _id }); // Optimistic update\n    } catch (error) {\n      console.error('Failed to remove todo:', error);\n    }\n  };\n\n  return (\n    <div>\n\n    <TodoComp />\n    <h1>Todos</h1>\n    <ul>\n      {todos.map((todo) => (\n        <li key={todo._id}>\n          <form\n            onSubmit={(e) => {\n              e.preventDefault();\n              handleRemove(todo._id);\n            }}\n          >\n            {todo.title}\n            <button type='submit'>Remove</button>\n          </form>\n        </li>\n      ))}\n    </ul>\n\n    <form onSubmit={handleAdd}>\n      <input\n        type='text'\n        name='title'\n        value={input}\n        onChange={(e) => setInput(e.target.value)}\n      />\n      <button type='submit'>Add</button>\n    </form>\n  </div>\n  );\n};\n\nexport default Todos;\n"],"names":[],"mappings":";;;;AAAA;AACA,gPAAoE,gCAAgC;AAEpG;AAFA;;;;;AASA,SAAS,QAAQ,KAAa,EAAE,MAAc;IAC5C,OAAQ,OAAO,IAAI;QACjB,KAAK;YACH,OAAO,OAAO,OAAO;QACvB,KAAK;YACH,OAAO;mBAAI;gBAAO,OAAO,OAAO;aAAC;QACnC,KAAK;YACH,OAAO,MAAM,MAAM,CAAC,CAAC,OAAS,KAAK,GAAG,KAAK,OAAO,OAAO;QAC3D;YACE,OAAO;IACX;AACF;AAEA,MAAM,QAAQ;IACZ,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,mGAAA,CAAA,aAAU,AAAD,EAAE,SAAS,EAAE;IAChD,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IAEnC,iCAAiC;IACjC,CAAA,GAAA,mGAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,aAAa;YACjB,IAAI;gBACF,MAAM,eAAe,MAAM,CAAA,GAAA,0HAAA,CAAA,YAAS,AAAD;gBACnC,SAAS;oBAAE,MAAM;oBAAa,SAAS;gBAAa;YACtD,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,0BAA0B;YAC1C;QACF;QAEA;IACF,GAAG,EAAE;IAEL,2BAA2B;IAC3B,MAAM,YAAY,OAAO;QACvB,EAAE,cAAc;QAChB,IAAI,CAAC,MAAM,IAAI,IAAI;QAEnB,IAAI;YACF,MAAM,UAAU;gBAAE,KAAK,OAAO,UAAU;gBAAI,OAAO;YAAM;YACzD,MAAM,CAAA,GAAA,0HAAA,CAAA,aAAU,AAAD,EAAE;gBAAE,OAAO;YAAM;YAChC,SAAS;gBAAE,MAAM;gBAAY,SAAS;YAAQ,IAAI,oBAAoB;YACtE,SAAS;QACX,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,uBAAuB;QACvC;IACF;IAEA,yBAAyB;IACzB,MAAM,eAAe,OAAO;QAC1B,IAAI;YACF,MAAM,CAAA,GAAA,0HAAA,CAAA,aAAU,AAAD,EAAE;gBAAE;YAAI;YACvB,SAAS;gBAAE,MAAM;gBAAe,SAAS;YAAI,IAAI,oBAAoB;QACvE,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0BAA0B;QAC1C;IACF;IAEA,qBACE,qKAAC;;0BAED,qKAAC,2IAAA,CAAA,QAAQ;;;;;0BACT,qKAAC;0BAAG;;;;;;0BACJ,qKAAC;0BACE,MAAM,GAAG,CAAC,CAAC,qBACV,qKAAC;kCACC,cAAA,qKAAC;4BACC,UAAU,CAAC;gCACT,EAAE,cAAc;gCAChB,aAAa,KAAK,GAAG;4BACvB;;gCAEC,KAAK,KAAK;8CACX,qKAAC;oCAAO,MAAK;8CAAS;;;;;;;;;;;;uBARjB,KAAK,GAAG;;;;;;;;;;0BAcrB,qKAAC;gBAAK,UAAU;;kCACd,qKAAC;wBACC,MAAK;wBACL,MAAK;wBACL,OAAO;wBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;kCAE1C,qKAAC;wBAAO,MAAK;kCAAS;;;;;;;;;;;;;;;;;;AAI5B;uCAEe"}},
    {"offset": {"line": 404, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}